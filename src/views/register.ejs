<div class="ath-register-container">
  <div class="ath-register-panel">
    <div class="ath-register-brand-section">
      <svg class="ath-register-brand-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
      </svg>
      <h1 class="ath-register-brand-title">Crear cuenta</h1>
      <p class="ath-brand-subtitle">Comienza tu experiencia con Andina Trade Hub</p>
    </div>
    
    <form action="/register" method="POST" onsubmit="return validateForm()" class="ath-register-form" enctype="application/x-www-form-urlencoded">
      <div class="ath-register-row">
        <div class="ath-register-col">
          <div class="ath-register-form-group">
            <label>Nombre</label>
            <div class="ath-register-input-wrapper">
              <i class="fas fa-user"></i>
              <input type="text" name="name" value="<%= data.name || '' %>" placeholder="Tu nombre" required>
            </div>
          </div>
        </div>
        <div class="ath-register-col">
          <div class="ath-register-form-group">
            <label>Apellido</label>
            <div class="ath-register-input-wrapper">
              <i class="fas fa-user-tag"></i>
              <input type="text" name="lastname" value="<%= data.lastname || '' %>" placeholder="Tu apellido" required>
            </div>
          </div>
        </div>
      </div>
  
      <!-- Fecha de nacimiento -->
      <div class="ath-register-form-group">
        <label for="birthdate">Fecha de nacimiento</label>
        <div class="ath-register-input-wrapper">
          <i class="fas fa-calendar-alt"></i>
          <input type="text" name="birthdate" id="birthdate" class="ath-date-input" placeholder="Selecciona tu fecha" readonly>
          <div class="tooltip-error" id="birthdate-tooltip">
            <div class="tooltip-icon">!</div>
            <div class="tooltip-text">Completa este campo</div>
          </div>
        </div>
      </div>
      
      <div class="ath-register-form-group">
        <label>Email</label>
        <div class="ath-register-input-wrapper">
          <i class="fas fa-envelope"></i>
          <input type="email" id="email" name="email" value="<%= data.email || '' %>" placeholder="tucorreo@ejemplo.com" required>
          <div class="tooltip-error" id="email-tooltip">
            <div class="tooltip-icon">!</div>
            <div class="tooltip-text">El correo ingresado ya tiene una cuenta asociada</div>
          </div>
        </div>
      </div>
      
      <div class="ath-register-form-group">
        <label>Teléfono</label>
        <div class="ath-register-input-wrapper">
          <i class="fas fa-phone"></i>
          <input type="tel" name="phone" id="phone" pattern="[0-9]*" inputmode="numeric" value="<%= data.phone || '' %>" placeholder="3204567890 (sin prefijo ni letras)" required>
        </div>
      </div>
      
      <div class="ath-register-form-group">
        <label>País</label>
        <div class="ath-register-input-wrapper">
          <i class="fas fa-globe-americas"></i>
          <div class="custom-country-select">
            <!-- Input oculto para almacenar el valor real -->
            <input type="hidden" id="country" name="country" required>
            
            <!-- Elemento que muestra la selección actual -->
            <div class="selected-option">
             <div class="country-label">
              <span class="flag"></span>
              <span class="text">Selecciona tu país</span>
              <i class="fas fa-chevron-down"></i>
             </div>
            </div>
            
            <!-- Contenedor de opciones -->
            <div class="country-options"></div>
          </div>
          <div class="tooltip-error" id="country-tooltip">
            <div class="tooltip-icon">!</div>
            <div class="tooltip-text">Completa este campo</div>
          </div>
        </div>
      </div>
      
      <div class="ath-register-form-group">
        <label>Contraseña</label>
        <div class="ath-register-input-wrapper">
          <i class="fas fa-lock"></i>
          <input
            type="password"
            name="password"
            id="password"
            class="masked"
            placeholder="••••••••"
            required
            oninput="checkStrength(this.value)"
          >
          <span class="toggle-password"><i class="fas fa-eye"></i></span>

          <div class="tooltip-error" id="weak-password-tooltip">
            <div class="tooltip-icon">!</div>
            <div class="tooltip-text">La contraseña es demasiado débil. Por favor, mejórala para continuar</div>
          </div>
        </div>

        <div id="password-strength-bar" class="password-strength-bar"></div>
        <div id="password-strength-text" class="password-strength-text"></div>

        <ul id="password-criteria" class="password-criteria">
          <li id="length" class="invalid">Mínimo 8 caracteres</li>
          <li id="lowercase" class="invalid">Al menos una letra minúscula</li>
          <li id="uppercase" class="invalid">Al menos una letra mayúscula</li>
          <li id="number" class="invalid">Al menos un número</li>
          <li id="validchars" class="invalid">Al menos un caracter especial</li>
        </ul>
      </div>
      
      <div class="ath-register-form-group">
        <label>Confirmar contraseña</label>
        <div class="ath-register-input-wrapper">
          <i class="fas fa-lock"></i>
          <input
            type="password"
            name="confirm_password"
            id="confirm_password"
            class="masked"
            placeholder="••••••••"
            required
          >
          <span class="toggle-password"><i class="fas fa-eye"></i></span>
          <div class="tooltip-error" id="dont-match-password-tooltip">
            <div class="tooltip-icon">!</div>
            <div class="tooltip-text">Las contraseñas no coinciden</div>
        </div>
        </div>
      </div>      
      
      <!-- Checkbox términos -->
      <div class="ath-register-form-check" style="position: relative;">
        <input type="checkbox" class="ath-register-form-check-input" name="terms" id="terms">
        <label class="ath-register-form-check-label" for="terms">
          Acepto las <a href="/terms">políticas de privacidad y términos de servicio</a>
        </label>
        <div class="tooltip-error" id="terms-tooltip">
          <div class="tooltip-icon">!</div>
          <div class="tooltip-text">Para continuar, por favor acepte los términos y condiciones</div>
        </div>
      </div>

      
      <button type="submit" class="ath-register-btn ath-register-primary-btn" id="register-button">
        <span class="button-text">Crear cuenta</span>
        <span class="ath-register-btn-wave"></span>
      </button>
    </form>
    
    <div class="ath-register-footer">
      ¿Ya tienes cuenta? <a href="/">Inicia sesión</a>
    </div>
  </div>
  
  <div class="ath-register-info-panel">
    <div class="ath-info-content">
      <h2>Únete a nuestra plataforma</h2>
      <ul class="ath-features-list">
        <li><i class="fas fa-chart-line"></i> Dashboard en tiempo real</li>
        <li><i class="fas fa-project-diagram"></i> Organiza tu plan de inversión</li>  
        <li><i class="fas fa-file-alt"></i> Generación de reportes</li>  
        <li><i class="fas fa-bell"></i> Alertas y notificaciones</li>  
        <li><i class="fas fa-chart-area"></i> Gráficos avanzados</li>  
      </ul>
    </div>
  </div>
</div>